<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
<meta name="generator" content="joDoc">
<title>PhoneGap API Documentation</title>
<link rel="stylesheet" type="text/css" href="index.css">
<link rel="stylesheet" type="text/css" href="mobile.css" media="only screen and (max-device-width: 1024px)">
<link rel="stylesheet" type="text/css" href="prettify/prettify.css">
</head>
<body>
        <div id="header">
            <h1><a href="index.html">Phone<strong>Gap</strong> Documentation</a></h1>
            <small>
                <select><optgroup label="English" value="en">
<option value="edge">edge</option>
<option value="1.2.0">1.2.0</option>
<option value="1.1.0">1.1.0</option>
<option value="1.0.0rc3">1.0.0rc3</option>
<option value="1.0.0rc2">1.0.0rc2</option>
<option value="1.0.0rc1">1.0.0rc1</option>
<option value="1.0.0">1.0.0</option>
<option value="0.9.6">0.9.6</option>
<option value="0.9.5.1">0.9.5.1</option>
<option value="0.9.5">0.9.5</option>
<option value="0.9.4">0.9.4</option>
<option value="0.9.3">0.9.3</option>
<option value="0.9.2">0.9.2</option>
</optgroup>
<optgroup label="Español" value="es"><option value="1.0.0">1.0.0</option></optgroup>
<optgroup label="Japanese" value="jp"><option selected value="0.9.5">0.9.5</option></optgroup></select></small>
        </div>
        <div id="subheader">
            <h1>Media</h1>
            <small><select><option value="Media">Media</option>
<option value="Media_">      - パラメータ</option>
<option value="Media_">      - メソッド</option>
<option value="Media_">      - サポートされているプラットフォーム</option>
<option value="Media_ios">      - iOS に関する注意点</option>
<option value="media.getCurrentPosition">media.getCurrentPosition</option>
<option value="media.getCurrentPosition_">      - パラメータ</option>
<option value="media.getCurrentPosition_">      - 概要</option>
<option value="media.getCurrentPosition_">      - サポートされているプラットフォーム</option>
<option value="media.getCurrentPosition_">      - 使用例</option>
<option value="media.getCurrentPosition_">      - 詳細な使用例</option>
<option value="media.getDuration">media.getDuration</option>
<option value="media.getDuration_">      - 概要</option>
<option value="media.getDuration_">      - サポートされているプラットフォーム</option>
<option value="media.getDuration_">      - 使用例</option>
<option value="media.getDuration_">      - 詳細な使用例</option>
<option value="media.pause">media.pause</option>
<option value="media.pause_">      - 概要</option>
<option value="media.pause_">      - サポートされているプラットフォーム</option>
<option value="media.pause_">      - 使用例</option>
<option value="media.pause_">      - 詳細な使用例</option>
<option value="media.play">media.play</option>
<option value="media.play_">      - 概要</option>
<option value="media.play_">      - サポートされているプラットフォーム</option>
<option value="media.play_">      - 使用例</option>
<option value="media.play_">      - 詳細な使用例</option>
<option value="media.release">media.release</option>
<option value="media.release_">      - 概要</option>
<option value="media.release_">      - サポートされているプラットフォーム</option>
<option value="media.release_">      - 使用例</option>
<option value="media.release_">      - 詳細な使用例</option>
<option value="media.startRecord">media.startRecord</option>
<option value="media.startRecord_">      - 概要</option>
<option value="media.startRecord_">      - サポートされているプラットフォーム</option>
<option value="media.startRecord_">      - 使用例</option>
<option value="media.startRecord_">      - 詳細な使用例</option>
<option value="media.startRecord_ios">      - iOS に関する注意点</option>
<option value="media.stop">media.stop</option>
<option value="media.stop_">      - 概要</option>
<option value="media.stop_">      - サポートされているプラットフォーム</option>
<option value="media.stop_">      - 使用例</option>
<option value="media.stop_">      - 詳細な使用例</option>
<option value="media.stopRecord">media.stopRecord</option>
<option value="media.stopRecord_">      - 概要</option>
<option value="media.stopRecord_">      - サポートされているプラットフォーム</option>
<option value="media.stopRecord_">      - 使用例</option>
<option value="media.stopRecord_">      - 詳細な使用例</option>
<option value="media.stopRecord_ios">      - iOS に関する注意点</option>
<option value="MediaError">MediaError</option>
<option value="MediaError_">      - プロパティ</option>
<option value="MediaError_">      - コンスタント</option>
<option value="MediaError_">      - 概要</option>
<option value="mediaError">mediaError</option>
<option value="mediaError_">      - パラメータ</option></select></small>
        </div>

        <div id="sidebar">
            <div class="vertical_divider"></div>
            <h1>API Reference</h1>
            <ul>
<li><a href="phonegap_accelerometer_accelerometer.md.html#Accelerometer">Accelerometer</a></li>
<li><a href="phonegap_camera_camera.md.html#%E3%82%AB%E3%83%A1%E3%83%A9%E5%88%B6%E5%BE%A1">カメラ制御</a></li>
<li><a href="phonegap_contacts_contacts.md.html#%E9%80%A3%E7%B5%A1%E5%85%88">連絡先</a></li>
<li><a href="phonegap_device_device.md.html#Device">Device</a></li>
<li><a href="phonegap_events_events.md.html#Events">Events</a></li>
<li><a href="phonegap_file_file.md.html#File">File</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a></li>
<li><a href="phonegap_media_media.md.html#Media">Media</a></li>
<li><a href="phonegap_network_network.md.html#Network">Network</a></li>
<li><a href="phonegap_notification_notification.md.html#Notification">Notification</a></li>
<li><a href="phonegap_storage_storage.md.html#Storage">Storage</a></li>
</ul>
<h1></h1>
            <ul>
<li><a href="_index.html">Keyword Index</a></li>
            </ul>
</div>

        <div id="scrollable">
            <div id="content">
                <h1><a name="Media">Media</a></h1>

<p><code><a href="phonegap_media_media.md.html#Media">Media</a></code> オブジェクトは、デバイス上でのオーディオファイルの再生や録音などといった機能をサポートします。</p>

<pre class="prettyprint"><code>var media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, mediaSuccess, [<a href="phonegap_media_media.md.html#mediaError">mediaError</a>]);
</code></pre>

<p>注意: 現在の実行環境はメディアキャプチャに関するW3Cの仕様要件を満たしていないため、便宜上のオブジェクトとして扱われます。
将来的には最新のW3C仕様に合わせるとともに、現在のAPIを破棄することも検討されています。</p>

<h2>
<a name="Media_">パラメータ</a>
</h2>

<ul>
<li>
<strong>src</strong>: オーディオコンテンツを示すURIを指定します <em>(DOMString)</em>
</li>
<li>
<strong>mediaSuccess</strong>: (オプション) <code><a href="phonegap_media_media.md.html#Media">Media</a></code> オブジェクトが再生、録音、停止などのアクションを完了したときに呼ばれるコールバック関数を指定します <em>(Function)</em>
</li>
<li>
<strong><a href="phonegap_media_media.md.html#mediaError">mediaError</a></strong>: (オプション) エラーが発生時に呼ばれるコールバック関数を指定します <em>(Function)</em>
</li>
</ul>
<h2>
<a name="Media_">メソッド</a>
</h2>

<ul>
<li>
<a href="phonegap_media_media.md.html#media.getCurrentPosition">media.getCurrentPosition</a>: オーディオファイル内の現在の再生位置を返します。</li>
<li>
<a href="phonegap_media_media.md.html#media.getDuration">media.getDuration</a>: オーディオファイルの再生時間を返します。</li>
<li>
<a href="phonegap_media_media.md.html#media.play">media.play</a>: オーディオファイルの再生を開始・再開します。</li>
<li>
<a href="phonegap_media_media.md.html#media.pause">media.pause</a>: オーディオファイルの再生を停止します。</li>
<li>
<a href="phonegap_media_media.md.html#media.release">media.release</a>: OSのオーディオリソースを開放します。</li>
<li>
<a href="phonegap_media_media.md.html#media.startRecord">media.startRecord</a>: オーディオファイルの録音を開始します。</li>
<li>
<a href="phonegap_media_media.md.html#media.stopRecord">media.stopRecord</a>: オーディオファイルの録音を停止します。</li>
<li>
<a href="phonegap_media_media.md.html#media.stop">media.stop</a>: オーディオファイルの録音を中止します。</li>
</ul>
<h2>
<a name="Media_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="Media_ios">iOS に関する注意点</a>
</h2>

<ul>
<li>コールバック関数の範囲は常にグローバルに設定してください。(<a href="phonegap_storage_storage.md.html#version">version</a> 0.9.4 以下).</li>
<li>メディアコンストラクタ内で、iOSは再生の準備のためにiOS内に用意されたメソッドを利用してファイルをオーディオプレイヤーにロードします。
オプションとしてdownloadCompleteCallbackをパラメータとしてメディアコンストラクタに渡すことができます。このパラメータは呼び出しの準備が完了した際に呼び出されます。</li>
</ul>
<hr>
<h1><a name="media.getCurrentPosition">media.getCurrentPosition</a></h1>

<p>オーディオファイル内の現在の再生位置を返します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.getCurrentPosition">media.getCurrentPosition</a>(mediaSuccess, [<a href="phonegap_media_media.md.html#mediaError">mediaError</a>]);
</code></pre>

<h2>
<a name="media.getCurrentPosition_">パラメータ</a>
</h2>

<ul>
<li>
<strong>mediaSuccess</strong>: 現在再生位置とともに呼び出されるコールバック関数です。</li>
<li>
<strong><a href="phonegap_media_media.md.html#mediaError">mediaError</a></strong>: (オプション) エラー発生時に呼び出されるコールバック関数です。</li>
</ul>
<h2>
<a name="media.getCurrentPosition_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.getCurrentPosition">media.getCurrentPosition</a></code> は <code><a href="phonegap_media_media.md.html#Media">Media</a></code> オブジェクトのオーディオファイルの現在再生位置を返す非同期関数です。</p>

<h2>
<a name="media.getCurrentPosition_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
</ul>
<h2>
<a name="media.getCurrentPosition_">使用例</a>
</h2>

<pre class="prettyprint"><code>    // オーディオプレイヤー
    //
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

    // 毎秒再生位置を更新
    var mediaTimer = setInterval(function() {
        // 再生位置を取得
        my_media.getCurrentPosition(
            // 成功時のコールバック
            function(position) {
                if (position &gt; -1) {
                    console.log((position/1000) + " sec");
                }
            },
            // 失敗時のコールバック
            function(e) {
                console.log("Error getting pos=" + e);
            }
        );
    }, 1000);
</code></pre>

<h2>
<a name="media.getCurrentPosition_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                  "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディアの使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込み待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオ再生
        //
        function playAudio(src) {
            // src から<a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成  
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // オーディオ再生
            my_media.play();

            // 毎秒、再生位置を更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // my_media の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " sec");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオ一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオ停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時のコールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // 再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.getDuration">media.getDuration</a></h1>

<p>オーディオファイルの再生時間を返します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.getDuration">media.getDuration</a>();
</code></pre>

<h2>
<a name="media.getDuration_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.getDuration">media.getDuration</a></code> は秒単位でオーディオファイルの再生時間を返す同期関数です。再生時間が不明な場合は'-1'が返されます。</p>

<h2>
<a name="media.getDuration_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
</ul>
<h2>
<a name="media.getDuration_">使用例</a>
</h2>

<pre class="prettyprint"><code>    // オーディオプレイヤー
    //
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

    // 再生時間を取得
    var counter = 0;
    var timerDur = setInterval(function() {
        counter = counter + 100;
        if (counter &gt; 2000) {
            clearInterval(timerDur);
        }
        var dur = my_media.getDuration();
        if (dur &gt; 0) {
            clearInterval(timerDur);
            document.getElementById('audio_duration').innerHTML = (dur/1000) + " 秒";
        }
   }, 100);
</code></pre>

<h2>
<a name="media.getDuration_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディアの使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込みを待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオを再生します。
        //
        function playAudio(src) {
            // srcから<a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // 再生開始
            my_media.play();

            // 毎秒 my_media の再生位置を更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // my_media　の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " sec");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオを一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオを停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時のコールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // オーディオの再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.pause">media.pause</a></h1>

<p>オーディオファイルの再生を停止します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.pause">media.pause</a>();
</code></pre>

<h2>
<a name="media.pause_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.pause">media.pause</a></code> はオーディオファイルの再生を停止させる同期関数です。</p>

<h2>
<a name="media.pause_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="media.pause_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オーディオを再生
//
function playAudio(url) {
    // URL先のオーディオファイルを再生する
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(url,
        // 成功時のコールバック
        function() {
            console.log("playAudio():Audio Success");
        },
        // 失敗時のコールバック
        function(err) {
            console.log("playAudio():Audio Error: "+err);
    });

    // 再生開始
    my_media.play();

    // 10秒後に一時停止
    setTimeout(function() {
        <a href="phonegap_media_media.md.html#media.pause">media.pause</a>();
    }, 10000);        
}
</code></pre>

<h2>
<a name="media.pause_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディアの使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込みを待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオを再生します
        //
        function playAudio(src) {
            // srcから<a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // 再生開始
            my_media.play();

            // my_media の再生位置を毎秒更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    //  my_media の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " sec");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオ一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオ停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時のコールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // オーディオの再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.play">media.play</a></h1>

<p>オーディオファイルの再生を開始/再開します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.play">media.play</a>();
</code></pre>

<h2>
<a name="media.play_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.play">media.play</a></code> はオーディオファイルの再生を開始/再開させる同期関数です。</p>

<h2>
<a name="media.play_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="media.play_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オーディオ再生
//
function playAudio(url) {
    // URL先のオーディオファイルを再生
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(url,
        // 成功時のコールバック
        function() {
            console.log("playAudio():Audio Success");
        },
        // 失敗時のコールバック
        function(err) {
            console.log("playAudio():Audio Error: "+err);
    });

    // 再生開始
    my_media.play();
}
</code></pre>

<h2>
<a name="media.play_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディア使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込みを待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオ再生
        //
        function playAudio(src) {
            // <a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // 再生開始
            my_media.play();

            // my_media の再生位置を毎秒更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // my_media の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " 秒");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオ一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオ停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時のコールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // オーディオの再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.release">media.release</a></h1>

<p>OSのオーディオリソースを開放します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.release">media.release</a>();
</code></pre>

<h2>
<a name="media.release_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.release">media.release</a></code> はOSのオーディオリソースを開放する同期関数です。</p>

<p>Androidはメディア再生のための <code>OpenCore</code> インスタンスを利用できるため、この関数はAndroidにとって特に重要な関数です。
メディアリソースが不必要になった場合には 'release' 関数を使用してください。</p>

<h2>
<a name="media.release_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
</ul>
<h2>
<a name="media.release_">使用例</a>
</h2>

<pre class="prettyprint"><code>    // オーディオプレイヤー
    //
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

    my_media.play();
    my_media.stop();
    my_media.release();
</code></pre>

<h2>
<a name="media.release_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディアの使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込みを待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオ再生
        //
        function playAudio(src) {
            // srcから<a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // 再生開始
            my_media.play();

            // my_media の再生位置を毎秒更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // my_media の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " 秒");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオ一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオ停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時のコールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // オーディオの再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.startRecord">media.startRecord</a></h1>

<p>オーディオファイルの録音を開始します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.startRecord">media.startRecord</a>();
</code></pre>

<h2>
<a name="media.startRecord_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.startRecord">media.startRecord</a></code> はオーディオファイルの録音を開始する同期関数です。</p>

<h2>
<a name="media.startRecord_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="media.startRecord_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オーディオを録音します
// 
function recordAudio() {
    var src = "myrecording.mp3";
    var mediaRec = new <a href="phonegap_media_media.md.html#Media">Media</a>(src,
        // 成功時のコールバック
        function() {
            console.log("recordAudio():Audio Success");
        },

        // 失敗時のコールバック
        function(err) {
            console.log("recordAudio():Audio Error: "+ err.code);
        });

    // 録音開始
    mediaRec.startRecord();
}
</code></pre>

<h2>
<a name="media.startRecord_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;メディアの使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    // オーディオの録音をします
    // 
    function recordAudio() {
        var src = "myrecording.mp3";
        var mediaRec = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

        // 録音開始
        mediaRec.startRecord();

        // 10秒後録音停止
        var recTime = 0;
        var recInterval = setInterval(function() {
            recTime = recTime + 1;
            setAudioPosition(recTime + " sec");
            if (recTime &gt;= 10) {
                clearInterval(recInterval);
                mediaRec.stopRecord();
            }
        }, 1000);
    }

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        recordAudio();
    }

    // 成功時のコールバック
    //
    function onSuccess() {
        console.log("recordAudio():Audio Success");
    }

    // 失敗時のコールバック
    //
    function onError(error) {
        alert('コード: '    + error.code    + '\n' + 
              'メッセージ: ' + error.message + '\n');
    }

    // オーディオの再生位置をセット
    // 
    function setAudioPosition(position) {
        document.getElementById('audio_position').innerHTML = position;
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="media"&gt;録音中...&lt;/p&gt;
    &lt;p id="audio_position"&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2>
<a name="media.startRecord_ios">iOS に関する注意点</a>
</h2>

<ul>
<li>iOS上でのメソッド名は <code>startAudioRecord</code> となります。</li>
<li>ファイルをレコードするためのファイルは既に存在していなければなりません。</li>
</ul>
<hr>
<h1><a name="media.stop">media.stop</a></h1>

<p>オーディオファイルの再生を中止します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.stop">media.stop</a>();
</code></pre>

<h2>
<a name="media.stop_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.stop">media.stop</a></code> はオーディオの再生を中止させる同期関数です。</p>

<h2>
<a name="media.stop_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="media.stop_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オーディオを再生します
//
function playAudio(url) {
    // URL先のオーディオファイルを再生
    var my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(url,
        // 成功時のコールバック
        function() {
            console.log("playAudio():Audio Success");
        },
        // 失敗時のコールバック
        function(err) {
            console.log("playAudio():Audio Error: "+err);
    });

    // 再生開始
    my_media.play();

    // 10秒後一時停止
    setTimeout(function() {
        my_media.stop();
    }, 10000);        
}
</code></pre>

<h2>
<a name="media.stop_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>    &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                          "http://www.w3.org/TR/html4/strict.dtd"&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;メディアの使用例&lt;/title&gt;

        &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" charset="utf-8"&gt;

        // PhoneGapの読み込みを待機
        //
        function onLoad() {
            document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
        }

        // PhoneGap準備完了
        //
        function onDeviceReady() {
            playAudio("http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3");
        }

        // オーディオプレイヤー
        //
        var my_media = null;
        var mediaTimer = null;

        // オーディオを再生します
        //
        function playAudio(src) {
            // srcから<a href="phonegap_media_media.md.html#Media">Media</a>オブジェクトを作成
            my_media = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

            // 再生開始
            my_media.play();

            // my_media の再生位置を毎秒更新
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // my_media の再生位置を取得
                    my_media.getCurrentPosition(
                        // 成功時のコールバック
                        function(position) {
                            if (position &gt; -1) {
                                setAudioPosition((position/1000) + " 秒");
                            }
                        },
                        // 失敗時のコールバック
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // オーディオ一時停止
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // オーディオ停止
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // 成功時コールバック
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // 失敗時のコールバック
        //
        function onError(error) {
            alert('コード: '    + error.code    + '\n' + 
                  'メッセージ: ' + error.message + '\n');
        }

        // オーディオの再生位置をセット
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }

        &lt;/script&gt;
      &lt;/head&gt;
      &lt;body onload="onLoad()"&gt;
        &lt;a href="#" class="btn large" onclick="playAudio('http://audio.ibeat.org/content/p1rj1s/p1rj1s_-_rockGuitar.mp3');"&gt;再生&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="pauseAudio();"&gt;一時停止&lt;/a&gt;
        &lt;a href="#" class="btn large" onclick="stopAudio();"&gt;停止&lt;/a&gt;
        &lt;p id="audio_position"&gt;&lt;/p&gt;
      &lt;/body&gt;
    &lt;/html&gt;
</code></pre>

<hr>
<h1><a name="media.stopRecord">media.stopRecord</a></h1>

<p>オーディオファイルの録音を中止します。</p>

<pre class="prettyprint"><code><a href="phonegap_media_media.md.html#media.stopRecord">media.stopRecord</a>();
</code></pre>

<h2>
<a name="media.stopRecord_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#media.stopRecord">media.stopRecord</a></code> はオーディオファイルの録音を中止させる同期関数です。</p>

<h2>
<a name="media.stopRecord_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>
<h2>
<a name="media.stopRecord_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オーディオを録音します。
// 
function recordAudio() {
    var src = "myrecording.mp3";
    var mediaRec = new <a href="phonegap_media_media.md.html#Media">Media</a>(src,
        // 成功時のコールバック
        function() {
            console.log("recordAudio():Audio Success");
        },

        // 失敗時のコールバック
        function(err) {
            console.log("recordAudio():Audio Error: "+ err.code);
        });

    // 録音開始
    mediaRec.startRecord();

    // 10秒後録音停止
    setTimeout(function() {
        mediaRec.stopRecord();
    }, 10000);
}
</code></pre>

<h2>
<a name="media.stopRecord_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;メディアの使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    // オーディオの録音をします。
    // 
    function recordAudio() {
        var src = "myrecording.mp3";
        var mediaRec = new <a href="phonegap_media_media.md.html#Media">Media</a>(src, onSuccess, onError);

        // 録音開始
        mediaRec.startRecord();

        // 10秒後に録音を停止
        var recTime = 0;
        var recInterval = setInterval(function() {
            recTime = recTime + 1;
            setAudioPosition(recTime + " 秒");
            if (recTime &gt;= 10) {
                clearInterval(recInterval);
                mediaRec.stopRecord();
            }
        }, 1000);
    }

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        recordAudio();
    }

    // 成功時のコールバック
    //
    function onSuccess() {
        console.log("recordAudio():Audio Success");
    }

    // 失敗時のコールバック
    //
    function onError(error) {
        alert('コード: '    + error.code    + '\n' + 
              'メッセージ: ' + error.message + '\n');
    }

    // オーディオの再生位置をセット
    // 
    function setAudioPosition(position) {
        document.getElementById('audio_position').innerHTML = position;
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="media"&gt;録音中...&lt;/p&gt;
    &lt;p id="audio_position"&gt;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2>
<a name="media.stopRecord_ios">iOS に関する注意点</a>
</h2>

<ul>
<li>iOS上でのメソッド名は <code>stopAudioRecord</code> になります。</li>
</ul>
<hr>
<h1><a name="MediaError">MediaError</a></h1>

<p><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a></code> オブジェクトはエラーが発生時に <code><a href="phonegap_media_media.md.html#mediaError">mediaError</a></code> コールバック関数に渡されます。</p>

<h2>
<a name="MediaError_">プロパティ</a>
</h2>

<ul>
<li>
<strong>code:</strong> 下記のリストの中のあらかじめ定義されたエラーコードが格納されます。</li>
<li>
<strong>message:</strong> エラーの詳細を説明するエラーメッセージです。</li>
</ul>
<h2>
<a name="MediaError_">コンスタント</a>
</h2>

<ul>
<li><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a>.MEDIA_ERR_ABORTED</code></li>
<li><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a>.MEDIA_ERR_NETWORK</code></li>
<li><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a>.MEDIA_ERR_DECODE</code></li>
<li><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a>.MEDIA_ERR_NONE_SUPPORTED</code></li>
</ul>
<h2>
<a name="MediaError_">概要</a>
</h2>

<p><code><a href="phonegap_media_media.md.html#MediaError">MediaError</a></code> オブジェクトはエラーが発生した際 <code><a href="phonegap_media_media.md.html#mediaError">mediaError</a></code> コールバック関数を通してユーザーに返されます。</p>

<hr>
<h1><a name="mediaError">mediaError</a></h1>

<p>メディア関数群にエラーが発生した際のコールバック関数です。</p>

<pre class="prettyprint"><code>function(error) {
    // エラーを対処
}
</code></pre>

<h2>
<a name="mediaError_">パラメータ</a>
</h2>

<ul>
<li>
<strong>error:</strong> デバイスによって返されるエラーです。 (<code><a href="phonegap_media_media.md.html#MediaError">MediaError</a></code>)</li>
</ul>
</div>
        </div>

        <!-- Functionality and Syntax Highlighting -->
        <script type="text/javascript" src="index.js"></script><script type="text/javascript" src="prettify/prettify.js"></script>
</body>
</html>
