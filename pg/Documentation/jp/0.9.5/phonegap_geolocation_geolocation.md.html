<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
<meta name="generator" content="joDoc">
<title>PhoneGap API Documentation</title>
<link rel="stylesheet" type="text/css" href="index.css">
<link rel="stylesheet" type="text/css" href="mobile.css" media="only screen and (max-device-width: 1024px)">
<link rel="stylesheet" type="text/css" href="prettify/prettify.css">
</head>
<body>
        <div id="header">
            <h1><a href="index.html">Phone<strong>Gap</strong> Documentation</a></h1>
            <small>
                <select><optgroup label="English" value="en">
<option value="edge">edge</option>
<option value="1.2.0">1.2.0</option>
<option value="1.1.0">1.1.0</option>
<option value="1.0.0rc3">1.0.0rc3</option>
<option value="1.0.0rc2">1.0.0rc2</option>
<option value="1.0.0rc1">1.0.0rc1</option>
<option value="1.0.0">1.0.0</option>
<option value="0.9.6">0.9.6</option>
<option value="0.9.5.1">0.9.5.1</option>
<option value="0.9.5">0.9.5</option>
<option value="0.9.4">0.9.4</option>
<option value="0.9.3">0.9.3</option>
<option value="0.9.2">0.9.2</option>
</optgroup>
<optgroup label="Español" value="es"><option value="1.0.0">1.0.0</option></optgroup>
<optgroup label="Japanese" value="jp"><option selected value="0.9.5">0.9.5</option></optgroup></select></small>
        </div>
        <div id="subheader">
            <h1>Geolocation</h1>
            <small><select><option value="Geolocation">Geolocation</option>
<option value="Geolocation_">      - メソッド</option>
<option value="Geolocation_">      - 引数</option>
<option value="Geolocation_">      - オブジェクト (読み込み専用)</option>
<option value="geolocation.getCurrentPosition">geolocation.getCurrentPosition</option>
<option value="geolocation.getCurrentPosition_">      - パラメータ</option>
<option value="geolocation.getCurrentPosition_">      - 概要</option>
<option value="geolocation.getCurrentPosition_">      - サポートされているプラットフォーム</option>
<option value="geolocation.getCurrentPosition_">      - 使用例</option>
<option value="geolocation.getCurrentPosition_">      - 詳細な使用例</option>
<option value="geolocation.watchPosition">geolocation.watchPosition</option>
<option value="geolocation.watchPosition_">      - パラメータ</option>
<option value="geolocation.watchPosition_">      - 返り値</option>
<option value="geolocation.watchPosition_">      - 概要</option>
<option value="geolocation.watchPosition_">      - サポートされているプラットフォーム</option>
<option value="geolocation.watchPosition_">      - 使用例</option>
<option value="geolocation.watchPosition_">      - 詳細な使用例</option>
<option value="geolocation.clearWatch">geolocation.clearWatch</option>
<option value="geolocation.clearWatch_">      - パラメータ</option>
<option value="geolocation.clearWatch_">      - 概要</option>
<option value="geolocation.clearWatch_">      - サポートされているプラットフォーム</option>
<option value="geolocation.clearWatch_">      - 使用例</option>
<option value="geolocation.clearWatch_">      - 詳細な使用例</option>
<option value="Coordinates">Coordinates</option>
<option value="Coordinates_">      - プロパティ</option>
<option value="Coordinates_">      - 概要</option>
<option value="Coordinates_">      - サポートされているプラットフォーム</option>
<option value="Coordinates_">      - 使用例</option>
<option value="Coordinates_">      - 詳細な使用例</option>
<option value="Coordinates_android">      - Android に関する注意点</option>
<option value="Position">Position</option>
<option value="Position_">      - プロパティ</option>
<option value="Position_">      - 概要</option>
<option value="Position_">      - サポートされているプラットフォーム</option>
<option value="Position_">      - 使用例</option>
<option value="Position_">      - 詳細な使用例</option>
<option value="Position_iphone">      - iPhone に関する注意点</option>
<option value="PositionError">PositionError</option>
<option value="PositionError_">      - プロパティ</option>
<option value="PositionError_">      - 定数</option>
<option value="PositionError_">      - 概要</option>
<option value="geolocationSuccess">geolocationSuccess</option>
<option value="geolocationSuccess_">      - パラメータ</option>
<option value="geolocationSuccess_">      - 例</option>
<option value="geolocationError">geolocationError</option>
<option value="geolocationError_">      - パラメータ</option>
<option value="geolocationOptions">geolocationOptions</option>
<option value="geolocationOptions_">      - オプション</option>
<option value="geolocationOptions_android">      - Android に関する注意点</option></select></small>
        </div>

        <div id="sidebar">
            <div class="vertical_divider"></div>
            <h1>API Reference</h1>
            <ul>
<li><a href="phonegap_accelerometer_accelerometer.md.html#Accelerometer">Accelerometer</a></li>
<li><a href="phonegap_camera_camera.md.html#%E3%82%AB%E3%83%A1%E3%83%A9%E5%88%B6%E5%BE%A1">カメラ制御</a></li>
<li><a href="phonegap_contacts_contacts.md.html#%E9%80%A3%E7%B5%A1%E5%85%88">連絡先</a></li>
<li><a href="phonegap_device_device.md.html#Device">Device</a></li>
<li><a href="phonegap_events_events.md.html#Events">Events</a></li>
<li><a href="phonegap_file_file.md.html#File">File</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a></li>
<li><a href="phonegap_media_media.md.html#Media">Media</a></li>
<li><a href="phonegap_network_network.md.html#Network">Network</a></li>
<li><a href="phonegap_notification_notification.md.html#Notification">Notification</a></li>
<li><a href="phonegap_storage_storage.md.html#Storage">Storage</a></li>
</ul>
<h1></h1>
            <ul>
<li><a href="_index.html">Keyword Index</a></li>
            </ul>
</div>

        <div id="scrollable">
            <div id="content">
                <h1><a name="Geolocation">Geolocation</a></h1>

<p><code><a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a></code> オブジェクトはデバイスのGPSセンサーへのアクセスを提供します。</p>

<p><code><a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a></code> は緯度や経度といったデバイスの位置情報を提供します。
主にGlobal Positioning System(GPS)から位置情報を取得しますが、IPアドレスやRFID、WiFi、Bluetooth、MACアドレス、
基地局IDなどのソースからも現在位置を推測します。</p>

<p>ただし当APIがデバイスの正確の位置を特定する保障はありません。
当APIは <a class="external" href="http://dev.w3.org/geo/api/spec-source.html">W3C Geo location API Specification</a> 
に基づいております。既にW3CのAPIの実装をサポートしているデバイスについては、PhoneGapの実装ではなくビルトインのサポートが実行されます。
<a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a>のサポートがなされていないデバイスについてはPhoneGapの実装は、W3Cの仕様と適合します。</p>

<h2>
<a name="Geolocation_">メソッド</a>
</h2>

<ul>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a></li>
</ul>
<h2>
<a name="Geolocation_">引数</a>
</h2>

<ul>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#geolocationOptions">geolocationOptions</a></li>
</ul>
<h2>
<a name="Geolocation_">オブジェクト (読み込み専用)</a>
</h2>

<ul>
<li><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></li>
<li><a href="phonegap_geolocation_geolocation.md.html#Coordinates">Coordinates</a></li>
</ul>
<hr>
<h1><a name="geolocation.getCurrentPosition">geolocation.getCurrentPosition</a></h1>

<p>デバイスの現在位置を <code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトとして返します。</p>

<pre class="prettyprint"><code>navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(<a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a>, 
                                         [<a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a>], 
                                         [<a href="phonegap_geolocation_geolocation.md.html#geolocationOptions">geolocationOptions</a>]);
</code></pre>

<h2>
<a name="geolocation.getCurrentPosition_">パラメータ</a>
</h2>

<ul>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></strong>: 現在位置取得成功時に呼ばれるコールバック関数です</li>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></strong>: (オプション) エラー発生時に呼ばれるコールバック関数です</li>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationOptions">geolocationOptions</a></strong>: (オプション) geolocationのオプションです</li>
</ul>
<h2>
<a name="geolocation.getCurrentPosition_">概要</a>
</h2>

<p><code>geolocation.getCurrentPositon</code> は <code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトをパラメータとして <code><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></code> コールバック関数にデバイスの現在位置を返す非同期関数です。
また、エラーが発生した場合 <code><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></code> コールバック関数を <code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></code> オブジェクトとともに呼び出します。</p>

<h2>
<a name="geolocation.getCurrentPosition_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry (OS 4.6)</li>
<li>BlackBerry WebWorks (OS 5.0 以上)</li>
<li>iPhone</li>
</ul>
<h2>
<a name="geolocation.getCurrentPosition_">使用例</a>
</h2>

<pre class="prettyprint"><code>// 成功時のコールバック関数
//  このメソッドはGPSの現在座標を保有する `<a href="phonegap_geolocation_geolocation.md.html#Position">Position</a>` オブジェクトを引数とします
//
var onSuccess = function(position) {
    alert('緯度: '          + position.coords.latitude          + '\n' +
          '経度: '         + position.coords.longitude         + '\n' +
          '高度: '          + position.coords.altitude          + '\n' +
          '位置精度: '          + position.coords.accuracy          + '\n' +
          '高度精度: ' + position.coords.altitudeAccuracy  + '\n' +
          '方位: '           + position.coords.heading           + '\n' +
          '速度: '             + position.coords.speed             + '\n' +
          'タイムスタンプ: '         + new Date(position.timestamp)      + '\n');
};

// 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを受けとる
//
function onError(error) {
    alert('コード: '    + error.code    + '\n' +
          'メッセージ: ' + error.message + '\n');
}

navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
</code></pre>

<h2>
<a name="geolocation.getCurrentPosition_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;位置情報の使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
    }

    // onSuccess <a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a>
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        element.innerHTML = '緯度: '           + position.coords.latitude              + '&lt;br /&gt;' +
                            '経度: '          + position.coords.longitude             + '&lt;br /&gt;' +
                            '高度: '           + position.coords.altitude              + '&lt;br /&gt;' +
                            '位置精度: '           + position.coords.accuracy              + '&lt;br /&gt;' +
                            '高度精度: '  + position.coords.altitudeAccuracy      + '&lt;br /&gt;' +
                            '方位: '            + position.coords.heading               + '&lt;br /&gt;' +
                            '速度: '              + position.coords.speed                 + '&lt;br /&gt;' +
                            'タイムスタンプ: '          + new Date(position.timestamp)          + '&lt;br /&gt;';
    }

    // 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを受けとる
    //
    function onError(error) {
        alert('コード: '    + error.code    + '\n' +
              'メッセージ: ' + error.message + '\n');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="geolocation"&gt; 位置情報を取得中...&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<hr>
<h1><a name="geolocation.watchPosition">geolocation.watchPosition</a></h1>

<p>デバイスの現在位置の変化を監視します。</p>

<pre class="prettyprint"><code>var watchId = navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a>(<a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a>,
                                                  [<a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a>],
                                                  [<a href="phonegap_geolocation_geolocation.md.html#geolocationOptions">geolocationOptions</a>]);
</code></pre>

<h2>
<a name="geolocation.watchPosition_">パラメータ</a>
</h2>

<ul>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></strong>: 現在位置取得成功時に呼ばれるコールバック関数です</li>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></strong>: (オプション) エラー発生時に呼ばれるコールバック関数です</li>
<li>
<strong><a href="phonegap_geolocation_geolocation.md.html#geolocationOptions">geolocationOptions</a></strong>: (オプション) geolocation のオプションです</li>
</ul>
<h2>
<a name="geolocation.watchPosition_">返り値</a>
</h2>

<ul>
<li>
<strong>String</strong>: 位置変化を参照するウォッチIDを返します。 <code><a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a></code> に適用することで位置変化の監視を中止することができます。</li>
</ul>
<h2>
<a name="geolocation.watchPosition_">概要</a>
</h2>

<p><code><a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a></code> は位置情報に変化があった場合にデバイスに現在位置情報を返す非同期関数です。
デバイスが新しい位置情報を取得した場合、 <code><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></code> コールバック関数が <code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトをパラメータとして呼び出されます。</p>

<p>エラー発生時には <code><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></code> コールバック関数が <code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></code> オブジェクトとともに呼ばれます。</p>

<h2>
<a name="geolocation.watchPosition_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry (OS 4.6)</li>
<li>BlackBerry WebWorks (OS 5.0 以上)</li>
<li>iPhone</li>
</ul>
<h2>
<a name="geolocation.watchPosition_">使用例</a>
</h2>

<pre class="prettyprint"><code>// 成功時のコールバック関数
//   GPSの現在座標を保有する<a href="phonegap_geolocation_geolocation.md.html#Position">Position</a>オブジェクトを引数とする

//
function onSuccess(position) {
    var element = document.getElementById('geolocation');
    element.innerHTML = '緯度: '  + position.coords.latitude      + '&lt;br /&gt;' +
                        '経度: ' + position.coords.longitude     + '&lt;br /&gt;' +
                        '&lt;hr /&gt;'      + element.innerHTML;
}

// 失敗時のコールバック関数は<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを取得
//
function onError(error) {
    alert('コード: '    + error.code    + '\n' +
          'メッセージ: ' + error.message + '\n');
}

// 3秒ごとに位置情報を取得する設定（オプション）
//
var watchID = navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a>(onSuccess, onError, { frequency: 3000 });
</code></pre>

<h2>
<a name="geolocation.watchPosition_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;位置情報の使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    var watchID = null;

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        // 3秒毎に更新
        var options = { frequency: 3000 };
        watchID = navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a>(onSuccess, onError, options);
    }

    // onSuccess <a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a>
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        element.innerHTML = '緯度: '  + position.coords.latitude      + '&lt;br /&gt;' +
                            '経度: ' + position.coords.longitude     + '&lt;br /&gt;' +
                            '&lt;hr /&gt;'      + element.innerHTML;
    }

    // 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを受けとる
    //
    function onError(error) {
        alert('コード: '    + error.code    + '\n' +
              'メッセージ: ' + error.message + '\n');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="geolocation"&gt;位置情報を取得中...&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<hr>
<h1><a name="geolocation.clearWatch">geolocation.clearWatch</a></h1>

<p><code>watchID</code> パラメータによって参照されるデバイスの位置情報の監視を停止します。</p>

<pre class="prettyprint"><code>navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a>(watchID);
</code></pre>

<h2>
<a name="geolocation.clearWatch_">パラメータ</a>
</h2>

<ul>
<li>
<strong>watchID:</strong> <code>watchPosition</code> の位置間隔をクリアするためのidです (String)</li>
</ul>
<h2>
<a name="geolocation.clearWatch_">概要</a>
</h2>

<p><code><a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a></code> 関数は <code>watchID</code> に参照される <code><a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a></code> をクリアすることでデバイスの位置情報の監視を停止します。</p>

<h2>
<a name="geolocation.clearWatch_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry (OS 4.6)</li>
<li>BlackBerry WebWorks (OS 5.0 以上)</li>
<li>iPhone</li>
</ul>
<h2>
<a name="geolocation.clearWatch_">使用例</a>
</h2>

<pre class="prettyprint"><code>// オプションにて3秒ごとに位置情報を取得するよう設定
//
var watchID = navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a>(onSuccess, onError, { frequency: 3000 });

// ...後に続く...

navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a>(watchID);
</code></pre>

<h2>
<a name="geolocation.clearWatch_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;位置情報の使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    var watchID = null;

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        // 3秒毎に更新
        var options = { frequency: 3000 };
        watchID = navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a>(onSuccess, onError, options);
    }

    // 取得に成功した場合
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        element.innerHTML = '緯度: '  + position.coords.latitude      + '&lt;br /&gt;' +
                            '経度: ' + position.coords.longitude     + '&lt;br /&gt;' +
                            '&lt;hr /&gt;'      + element.innerHTML;
    }

    // 開始されたウォッチをクリア
    // 
    function clearWatch() {
        if (watchID != null) {
            navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.clearWatch">geolocation.clearWatch</a>(watchID);
            watchID = null;
        }
    }

    // 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを受けとる
    //
    function onError(error) {
      alert('コード: '    + error.code    + '\n' +
            'メッセージ: ' + error.message + '\n');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="geolocation"&gt;<a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a>　監視中...&lt;/p&gt;
    &lt;button onclick="clearWatch();"&gt;監視の停止&lt;/button&gt;     
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<hr>
<h1><a name="Coordinates">Coordinates</a></h1>

<p>位置情報で使用される座標を格納します。</p>

<h2>
<a name="Coordinates_">プロパティ</a>
</h2>

<ul>
<li>
<strong>latitude</strong>: 緯度を数値を表します <em>(Number)</em>
</li>
<li>
<strong>longitude</strong>: 経度を数値で表します <em>(Number)</em>
</li>
<li>
<strong>altitude</strong>: 海抜からの高度を表します <em>(Number)</em>
</li>
<li>
<strong>accuracy</strong>: 位置の精度をメートル単位で表します<em>(Number)</em>
</li>
<li>
<strong>altitudeAccuracy</strong>: 高度の精度をメートル単位で表します <em>(Number)</em>
</li>
<li>
<strong>heading</strong>: 北から時計回りに図ったときのデバイスの方位を角度（数値）で表します <em>(Number)</em>
</li>
<li>
<strong>speed</strong>: 現在のデバイスのスピードをメートル/秒で表します <em>(Number)</em>
</li>
</ul>
<h2>
<a name="Coordinates_">概要</a>
</h2>

<p><code><a href="phonegap_geolocation_geolocation.md.html#Coordinates">Coordinates</a></code> オブジェクトは <code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトのプロパティとして作成されます。
 <code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトはコールバック関数を通してユーザーに渡されます。</p>

<h2>
<a name="Coordinates_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry (OS 4.6)</li>
<li>BlackBerry WebWorks (OS 5.0 以上)</li>
<li>iPhone</li>
</ul>
<h2>
<a name="Coordinates_">使用例</a>
</h2>

<pre class="prettyprint"><code>// 成功時のコールバック
//
var onSuccess = function(position) {
    alert('緯度: '          + position.coords.latitude          + '\n' +
          '経度: '         + position.coords.longitude         + '\n' +
          '高度: '          + position.coords.altitude          + '\n' +
          '位置精度: '          + position.coords.accuracy          + '\n' +
          '高度精度: ' + position.coords.altitudeAccuracy  + '\n' +
          '方位: '           + position.coords.heading           + '\n' +
          '速度: '             + position.coords.speed             + '\n' +
          'タイムスタンプ: '         + new Date(position.timestamp)      + '\n');
};

// 失敗時のコールバック
//
var onError = function() {
    alert('エラーが発生しました。');
};

navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
</code></pre>

<h2>
<a name="Coordinates_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;<a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a> <a href="phonegap_geolocation_geolocation.md.html#Position">Position</a> の例&lt;/title&gt;
    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // イベントをセットし、PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
    }

    // `<a href="phonegap_geolocation_geolocation.md.html#Position">Position</a>` プロパティーを表示
    //
    function onSuccess(position) {
        var div = document.getElementById('myDiv');

        div.innerHTML = '緯度: '             + position.coords.latitude  + '&lt;br/&gt;' +
                        '経度: '            + position.coords.longitude + '&lt;br/&gt;' +
                        '高度: '             + position.coords.altitude  + '&lt;br/&gt;' +
                        '位置精度: '             + position.coords.accuracy  + '&lt;br/&gt;' +
                        '高度精度: '    + position.coords.altitudeAccuracy  + '&lt;br/&gt;' +
                        '方位: '              + position.coords.heading   + '&lt;br/&gt;' +
                        '速度: '                + position.coords.speed     + '&lt;br/&gt;';
    }

    // 問題発生時に警告を表示
    //
    function onError() {
        alert('エラーが発生しました。');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;div id="myDiv"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2>
<a name="Coordinates_android">Android に関する注意点</a>
</h2>

<p><strong>altitudeAccuracy:</strong> このプロパティはAndroidではサポートされておらず、常にnullを返します。</p>

<hr>
<h1><a name="Position">Position</a></h1>

<p><a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a> APIによって作成された位置座標(<code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code>)を扱うオブジェクトです。</p>

<h2>
<a name="Position_">プロパティ</a>
</h2>

<ul>
<li>
<strong>coords:</strong> 地理座標を表します。 <em>(<a href="phonegap_geolocation_geolocation.md.html#Coordinates">Coordinates</a>)</em>
</li>
<li>
<strong>timestamp:</strong> ミリ秒単位で表される <code>coords</code> のタイムスタンプです。 <em>(DOMTimeStamp)</em>
</li>
</ul>
<h2>
<a name="Position_">概要</a>
</h2>

<p><code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code> オブジェクトはPhoneGapにより作成され、コールバック関数を通してユーザーに返されます。</p>

<h2>
<a name="Position_">サポートされているプラットフォーム</a>
</h2>

<ul>
<li>Android</li>
<li>BlackBerry (OS 4.6)</li>
<li>BlackBerry WebWorks (OS 5.0 以上)</li>
<li>iPhone</li>
</ul>
<h2>
<a name="Position_">使用例</a>
</h2>

<pre class="prettyprint"><code>// 成功時のコールバック
//
var onSuccess = function(position) {
    alert('緯度: '       + position.coords.latitude          + '\n' +
          '経度: '       + position.coords.longitude         + '\n' +
          '高度: '       + position.coords.altitude          + '\n' +
          '位置精度: '   + position.coords.accuracy          + '\n' +
          '高度精度: '   + position.coords.altitudeAccuracy  + '\n' +
          '方位: '       + position.coords.heading           + '\n' +
          '速度: '       + position.coords.speed             + '\n' +
          'タイムスタンプ: ' + new Date(position.timestamp)  + '\n');
};

// 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを取得
//
function onError(error) {
    alert('コード: '    + error.code    + '\n' +
          'メッセージ: ' + error.message + '\n');
}

navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
</code></pre>

<h2>
<a name="Position_">詳細な使用例</a>
</h2>

<pre class="prettyprint"><code>&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
                      "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;位置情報の使用例&lt;/title&gt;

    &lt;script type="text/javascript" charset="utf-8" src="phonegap.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" charset="utf-8"&gt;

    // PhoneGapの読み込みを待機
    //
    function onLoad() {
        document.addEventListener("<a href="phonegap_events_events.md.html#deviceready">deviceready</a>", onDeviceReady, false);
    }

    // PhoneGap準備完了
    //
    function onDeviceReady() {
        navigator.<a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a>(onSuccess, onError);
    }

    // onSuccess <a href="phonegap_geolocation_geolocation.md.html#Geolocation">Geolocation</a>
    //
    function onSuccess(position) {
        var element = document.getElementById('geolocation');
        element.innerHTML = '緯度: '           + position.coords.latitude              + '&lt;br /&gt;' +
                            '経度: '          + position.coords.longitude             + '&lt;br /&gt;' +
                            '高度: '           + position.coords.altitude              + '&lt;br /&gt;' +
                            '位置精度: '           + position.coords.accuracy              + '&lt;br /&gt;' +
                            '高度精度: '  + position.coords.altitudeAccuracy      + '&lt;br /&gt;' +
                            '方位: '            + position.coords.heading               + '&lt;br /&gt;' +
                            '速度: '              + position.coords.speed                 + '&lt;br /&gt;' +
                            'タイムスタンプ: '          + new Date(position.timestamp)          + '&lt;br /&gt;';
    }

    // 失敗時のコールバックは、<a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>オブジェクトを受けとる
    //
    function onError(error) {
        alert('コード: '    + error.code    + '\n' +
              'メッセージ: ' + error.message + '\n');
    }

    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload="onLoad()"&gt;
    &lt;p id="geolocation"&gt;位置情報を取得中...&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2>
<a name="Position_iphone">iPhone に関する注意点</a>
</h2>

<ul>
<li>
<p><strong>timestamp:</strong> このプロパティーはサポートされていますが、ミリ秒ではなく通常の秒単位で記述されます。対処法としては、手動でマイクロ秒に変換することが考えられます。</p>

<pre class="prettyprint"><code>var onSuccess = function(position) {
    alert('緯度: '  + position.coords.latitude             + '\n' +
          '経度: '  + position.coords.longitude            + '\n' +
          'タイムスタンプ: ' + new Date(position.timestamp * 1000)  + '\n');
};
</code></pre>
</li>
</ul>
<hr>
<h1><a name="PositionError">PositionError</a></h1>

<p><code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></code> オブジェクトはエラーが発生した場合に、<a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a> コールバック関数に渡されます。</p>

<h2>
<a name="PositionError_">プロパティ</a>
</h2>

<ul>
<li>
<strong>code:</strong> 下のリストの中のあらかじめ定義されたエラーコードのいずれかが格納されます</li>
<li>
<strong>message:</strong> エラーの内容を表すエラーメッセージが格納されます</li>
</ul>
<h2>
<a name="PositionError_">定数</a>
</h2>

<ul>
<li><code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>.PERMISSION_DENIED</code></li>
<li><code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>.POSITION_UNAVAILABLE</code></li>
<li><code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a>.TIMEOUT</code></li>
</ul>
<h2>
<a name="PositionError_">概要</a>
</h2>

<p><code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></code> オブジェクトは、geolocationに関するエラーが発生したときに <code><a href="phonegap_geolocation_geolocation.md.html#geolocationError">geolocationError</a></code> コールバック関数を通して、ユーザーに返されます。</p>

<hr>
<h1><a name="geolocationSuccess">geolocationSuccess</a></h1>

<p>位置情報取得に成功したときに呼び出されるコールバック関数です。</p>

<pre class="prettyprint"><code>function(position) {
    // 任意のコード
}
</code></pre>

<h2>
<a name="geolocationSuccess_">パラメータ</a>
</h2>

<ul>
<li>
<strong>position:</strong> デバイスによって返される位置情報です。 (<code><a href="phonegap_geolocation_geolocation.md.html#Position">Position</a></code>)</li>
</ul>
<h2>
<a name="geolocationSuccess_">例</a>
</h2>

<pre class="prettyprint"><code>function <a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a>(position) {
    alert('緯度: '         + position.coords.latitude          + '\n' +
          '経度: '         + position.coords.longitude         + '\n' +
          '高度: '         + position.coords.altitude          + '\n' +
          '位置精度: '     + position.coords.accuracy          + '\n' +
          '高度精度: '     + position.coords.altitudeAccuracy  + '\n' +
          '方位: '         + position.coords.heading           + '\n' +
          '速度: '         + position.coords.speed             + '\n' +
          'タイムスタンプ: ' + new Date(position.timestamp)    + '\n');
}
</code></pre>

<hr>
<h1><a name="geolocationError">geolocationError</a></h1>

<p>geolocation関数にエラーが発生した際に呼び出されるコールバック関数です。</p>

<pre class="prettyprint"><code>function(error) {
    // エラー時の対応
}
</code></pre>

<h2>
<a name="geolocationError_">パラメータ</a>
</h2>

<ul>
<li>
<strong>error:</strong> デバイスから返されるエラー (<code><a href="phonegap_geolocation_geolocation.md.html#PositionError">PositionError</a></code>)</li>
</ul>
<hr>
<h1><a name="geolocationOptions">geolocationOptions</a></h1>

<p>geolocationの取得方法をカスタマイズするためのオプションパラメータです。</p>

<pre class="prettyprint"><code>{ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true };
</code></pre>

<h2>
<a name="geolocationOptions_">オプション</a>
</h2>

<ul>
<li>
<strong>frequency:</strong> 位置情報の取得頻度をミリ秒単位で変更するパラメータです。このオプションはW3Cの仕様に含まれておらず、将来的には実装が廃止されます。そのため代わりにmaximumAge を使用してください。 <em>(Number)</em> (デフォルト: 10000)</li>
<li>
<strong>enableHighAccuracy:</strong> より精度の高い位置情報を取得するためのヒントを提供します。 <em>(Boolean)</em>
</li>
<li>
<strong>timeout:</strong> <code><a href="phonegap_geolocation_geolocation.md.html#geolocation.getCurrentPosition">geolocation.getCurrentPosition</a></code> または <code><a href="phonegap_geolocation_geolocation.md.html#geolocation.watchPosition">geolocation.watchPosition</a></code> が呼び出された時に、それぞれに対応する <code><a href="phonegap_geolocation_geolocation.md.html#geolocationSuccess">geolocationSuccess</a></code> コールバック関数が呼ばれるまでの最大経過時間をミリ秒単位で表します。 <em>(Number)</em>
</li>
<li>
<strong>maximumAge:</strong> ミリ秒単位で指定した時間以内でキャッシュされた位置情報を再利用します。 <em>(Number)</em>
</li>
</ul>
<h2>
<a name="geolocationOptions_android">Android に関する注意点</a>
</h2>

<p>The Android 2.x のシミュレータは enableHighAccuracy オプションがtrueにセットされるまでgeolocationの結果は通知されません。</p>

<pre class="prettyprint"><code>{ enableHighAccuracy: true }
</code></pre>

            </div>
        </div>

        <!-- Functionality and Syntax Highlighting -->
        <script type="text/javascript" src="index.js"></script><script type="text/javascript" src="prettify/prettify.js"></script>
</body>
</html>
